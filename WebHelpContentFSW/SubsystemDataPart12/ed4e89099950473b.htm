
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:tocPath="VSA (R&amp;S FSW-K70)|Measurement Basics|Overview of the Demodulation Process" MadCap:InPreviewMode="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" MadCap:PathToHelpSystem="../" MadCap:HelpSystemFileName="fsw_k70.xml" MadCap:SearchType="Stem">
<!-- saved from url=(0014)about:internet -->
<head><meta http-equiv="X-UA-Compatible" content="IE=EmulateIE9">
</meta>
        <link href="Resources/workspace/css/madcap_mod.css" rel="stylesheet" type="text/css">
</link><title>The Equalizer</title>
        <style>
					@import url(Resources/workspace/css/html_help.css);
				</style>
        <link disabled="disabled" href="Resources/workspace/css/html_help.css" rel="stylesheet" type="text/css">
</link>
        <MadCap:concept term="ID_a0c846d63f9ea2970a00206a010896ec-184c8906411153460a00206a01532735-en-US;ID_2ebb66eb5e1f7cad0a00206a006040a2-184c8906411153460a00206a01532735-en-US;ID_4b683edc5e1f7cad0a00206a01763256-184c8906411153460a00206a01532735-en-US;ID_6ea08ada798d11e1be3fe6afe6a474bd-184c8906411153460a00206a01532735-en-US;ID_969f3a8a7c9e11e1b47f88d87f570da2-184c8906411153460a00206a01532735-en-US;ID_0e34f4f2722838ca0a00201900ba7567-184c8906411153460a00206a01532735-en-US;ID_49297fe882cd15ab0a002019006cb688-184c8906411153460a00206a01532735-en-US;ID_c9a9d6e8723804cd0a00201900b22f6c-184c8906411153460a00206a01532735-en-US;">
</MadCap:concept>
        <script src="Resources/workspace/jscript/nsr.js">/* <![CDATA[ */
        /* ]]> */</script>
        <script src="SkinSupport/MadCapAll.js" type="text/javascript">/* <![CDATA[ */
        /* ]]> */</script>
    <script src="Resources/workspace/jscript/shortcut.js" type="text/javascript">/* <![CDATA[ */
/* ]]> */</script><script src="Resources/workspace/jscript/dy-shortcut.js" type="text/javascript">/* <![CDATA[ */
/* ]]> */</script></head><body><p><img src="../Data/SkinHTML Help Window/RS_Logo.png" /></p><div id="nsr"><span><a class="chm-breadcrumb" href="helpmerge-hooknode.htm">VSA (R&amp;S FSW-K70)</a> &gt; <a class="chm-breadcrumb" href="ffbc9c5560604231.htm">Measurement Basics</a> &gt; <a class="chm-breadcrumb" href="a9433bb736a54dfb.htm">Overview of the Demodulation Process</a> &gt; <span class="chm-breadcrumb">The Equalizer</span></span></div><div id="mainbody"><div style="width: 95%" xml:space="preserve">
						<a name="top">
							
						</a>
						
						
						<a name="kanchor283">
</a><div class="chm-chaptertitle">The Equalizer</div><p>A possible source of high modulation errors of the DUT with PSK and QAM signals is a non-flat frequency response or ripple in frequency response within the modulation bandwidth.</p><div class="block"><div class="listintro">The following components of the DUT can cause these effects:</div><ul class="list"><li value="1">Analog filter sections</li><li value="2">Digital filter sections, if a shortened filter length is used</li><li value="3">Digital arithmetic sections, if a shortened bit-length is used</li></ul></div><div class="block" id="ID_2ebb66eb5e1f7cad0a00206a006040a2-184c8906411153460a00206a01532735-en-US"><div class="graphic"><img border="0" src="Resources/Images/imgcd3b05315db139620a00206a00a76f0c_1_--_--_PNG96.png" alt="" title=""/></div><div class="caption_figure">General processing in the modulation- and demodulation stages</div></div><p>To improve the modulation analysis results, an equalizer filter with a reverse frequency response characteristic can compensate less-distorted frequency responses (see <a class="xref" href="#ID_4b683edc5e1f7cad0a00206a01763256-184c8906411153460a00206a01532735-en-US">Figure "Compensation of the transfer function error by inserting an equalizer in the receive path"</a>).</p><div class="block" id="ID_4b683edc5e1f7cad0a00206a01763256-184c8906411153460a00206a01532735-en-US"><div class="graphic"><img border="0" src="Resources/Images/imgdbf710ba5db2003c0a00206a01575ac6_1_--_--_PNG96.png" alt="" title=""/></div><div class="caption_figure">Compensation of the transfer function error by inserting an equalizer in the receive path</div></div><p>For small distortions, the reference signal can be determined correctly without pre-equalization. The equalizer can be calculated by comparing the reference signal and the measured signal and is only applied to the measured signal. This is referred to as <b>normal equalizer mode</b>. Note that the resulting equalizer function is not simply the inverted distortion function.</p><p>For more complex distortions, the reference signal might not be determined correctly due to wrong symbol decisions. Despite the resulting imperfect equalizer calculation, the estimated equalizer is often good enough to improve the reference signal creation in the succeeding sweep. Thus, the new equalizer is improved successively. This processing mode of the equalizer is called <b>tracking mode</b>. After only a few sweeps, the results are sufficiently accurate and the learning phase is completed. Then the equalizer can be used without additional calculations as long as the input signal remains stable. If an unstable input has led to an unusable equalizer filter, reset the equalizer with the "Reset" button.</p><div class="block" id="ID_6ea08ada798d11e1be3fe6afe6a474bd-184c8906411153460a00206a01532735-en-US"><div class="graphic"><img border="0" src="Resources/Images/img520b64b85db1f4b20a00206a001732e3_1_--_--_PNG96.png" alt="" title=""/></div><div class="caption_figure">An equalizer filter can be activated in the reference and measurement signal path. The filter coefficients are determined in such a way that the error vector magnitude (EVM) is minimized.</div></div><p>If the result range used for equalizer calculation is too short, the equalizer can provide unstable impulse responses. For time-invariant channels, the estimation length can be extended using <b>Averaging mode</b>. In this case, the statistics from <span class="input">all</span> previously determined reference signals and measurement signals are averaged to determine the current equalizer function. Thus, the results of previous sweeps are continuously considered to calculate the current equalizer values. Averaging is only restarted when the R&amp;S<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>FSW is switched off or when the user manually resets the equalizer. Obviously, this method requires a stable input signal for the entire duration of the measurement, as otherwise previous results distort the current equalizer.</p><p>This process requires extended calculation time so that the measurement update rate of the R&amp;S<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>FSW decreases distinctly. When the distortions are compensated sufficiently, this averaging process can be stopped. The current filter is <b>frozen</b>, that means it is no longer changed.</p><p>Keep in mind that in tracking and averaging mode, for sweep counts &gt;<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>1, repeated analysis of past result ranges can lead to different results.</p><p>The equalizer algorithm is limited to PSK and QAM modulation schemes, as the optimization criterion of the algorithm is based on minimizing the mean square error vector magnitude. Thus it cannot be used for FSK modulation.</p><div class="block"><div class="subtitle"><a name="ID_969f3a8a7c9e11e1b47f88d87f570da2-184c8906411153460a00206a01532735-en-US">
</a>User-defined equalizers</div></div><p>Instead of tracking equalizer values repeatedly for different input signals, you can store existing values to a file and load them again later. This is useful if signals from the same input source are measured frequently. In this case, you only have to calculate a filter once and can use the same equalizer filter again and again.</p><div class="block"><div class="subtitle"><a name="ID_0e34f4f2722838ca0a00201900ba7567-184c8906411153460a00206a01532735-en-US">
</a>Filter length</div></div><p>The length of the equalizer can be defined in symbols. The longer the equalizer the higher the resolution in the frequency domain is and the more distortion can be compensated. The shorter the filter length, the less calculation time the equalizer requires during the tracking or averaging phase.</p><div class="block"><div class="subtitle"><a name="ID_49297fe882cd15ab0a002019006cb688-184c8906411153460a00206a01532735-en-US">
</a>Estimation points per symbol</div></div><p>You can define how many sample points are used for the equalizer calculation at each symbol ("Estimation points per symbol", see <a class="xref" href="988958d2f6234c73.htm#ID_95fa6139a3d2eecc0a00206a0055d4dc-184c8906411153460a00206a01532735-en-US">"Display Points Vs Estimation Points Per Symbol"</a>). Typically, this is one point per symbol (=<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span><b>symbol rate</b>) or a factor of 2.</p><div class="block"><div class="subtitle"><a name="ID_c9a9d6e8723804cd0a00201900b22f6c-184c8906411153460a00206a01532735-en-US">
</a>Channel EVM</div></div><p>The equalizer not only compensates for distortions in the measurement signal, but also improves the accuracy of the estimated ideal reference signal. Thus, it is recommended that you enable the equalizer once you have analyzed the original input signal on the R&amp;S<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>FSW. By default, the error results are calculated using the compensated values if the equalizer is enabled. However, to analyze the actual error values obtained from the distorted channel, you can disable the compensation for channel results.</p>
						
						<div class="chm-go-to-top">
							<span>
								<a class="chm-go-to-top" href="#top">Top</a>
							</span>
						</div>
					</div></div><script type="text/javascript" src="SkinSupport/MadCapBodyEnd.js">/* <![CDATA[ */
/* ]]> */</script></body></html>