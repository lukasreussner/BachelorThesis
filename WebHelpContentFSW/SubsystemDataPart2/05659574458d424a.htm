
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:tocPath="Pulse Measurements (R&amp;S FSW-K6/6S)|Measurement Basics" MadCap:InPreviewMode="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" MadCap:PathToHelpSystem="../" MadCap:HelpSystemFileName="fsw_k6.xml" MadCap:SearchType="Stem">
<!-- saved from url=(0014)about:internet -->
<head><meta http-equiv="X-UA-Compatible" content="IE=EmulateIE9">
</meta>
        <link href="Resources/workspace/css/madcap_mod.css" rel="stylesheet" type="text/css">
</link><title>Segmented Data Capturing</title>
        <style>
					@import url(Resources/workspace/css/html_help.css);
				</style>
        <link disabled="disabled" href="Resources/workspace/css/html_help.css" rel="stylesheet" type="text/css">
</link>
        <MadCap:concept term="ID_9dea3d6b27d1e1fe0a001ae7273e1335-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_959308f750654af80a001ae77db7c2ab-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_f2290a2c50654af80a001ae77794626d-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_886084b198de87400a71003a007ed230-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_7ac3a46053941a300a71003a01a4f47e-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_47112e83539ff4c60a001ae757801150-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_c6692f6b50654af80a001ae712dea1ac-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_6b88cb1550654af80a001ae71c7a9408-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_1db7264750654af80a001ae7575e2815-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_47088b0469621f570a001ae73ce1868f-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_5ce2e54dec0c178c0a001ae73e41e223-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_ba8319be8b8e102b0a71003a00ecd27b-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_1c4c6514aceb11e79340bccd7fb645c1-77f58b7b6bc89ad60a00206a008ec9e8-en-US;">
</MadCap:concept>
        <script src="Resources/workspace/jscript/nsr.js">/* <![CDATA[ */
        /* ]]> */</script>
        <script src="SkinSupport/MadCapAll.js" type="text/javascript">/* <![CDATA[ */
        /* ]]> */</script>
    <script src="Resources/workspace/jscript/shortcut.js" type="text/javascript">/* <![CDATA[ */
/* ]]> */</script><script src="Resources/workspace/jscript/dy-shortcut.js" type="text/javascript">/* <![CDATA[ */
/* ]]> */</script></head><body><p><img src="../Data/SkinHTML Help Window/RS_Logo.png" /></p><div id="nsr"><span><a class="chm-breadcrumb" href="helpmerge-hooknode.htm">Pulse Measurements (R&amp;S FSW-K6/6S)</a> &gt; <a class="chm-breadcrumb" href="6bca5f79d2e8456b.htm">Measurement Basics</a> &gt; <span class="chm-breadcrumb">Segmented Data Capturing</span></span></div><div id="mainbody"><div style="width: 95%" xml:space="preserve">
						<a name="top">
							
						</a>
						
						
						<div class="chm-chaptertitle">Segmented Data Capturing</div><p>As described above, measuring pulses with a varying repetition interval is a common task in the R&amp;S FSW Pulse application. Pulses to be measured may have a relatively short duration compared to the repetition interval (low duty cycle). Performing a measurement over a long time period can lead to large volumes of data with only minor parts of it being relevant. Thus, a new <em>segmented data capturing</em> function has been introduced. Using this function, the input signal is measured for the entire time span, which may be very long; however, only user-defined segments of the data are actually stored on the R&amp;S<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>FSW. This leads to much less data, and only <em>relevant</em> data, which needs to be analyzed. Analyzing pulses becomes much quicker and more efficient.</p><p>Although segmented data capturing is similar to the common gated trigger method for data acquisition, there is a significant difference: absolute timing information is provided for the entire acquisition, in addition to the samples within the gating intervals. Furthermore, pretrigger information for the pulses within a segment is available, as opposed to gates that are triggered by a rising or falling edge, and do not provide pretrigger data.</p><div class="block"><div class="subtitle"><a name="ID_959308f750654af80a001ae77db7c2ab-77f58b7b6bc89ad60a00206a008ec9e8-en-US">
</a>Trigger and trigger offset</div></div><p>A precondition for segmented data capturing is a trigger, as the segment definition is based on the trigger event. A specified trigger <em>offset</em> is applied to each segment, thus allowing for pretrigger data to be included in the segment. Furthermore, the length of each segment (that is: the measurement time for an individual segment) must be defined such that the longest expected pulse can be captured in one segment. Finally, the number of trigger events for which data is to be captured can be defined.</p><div class="block"><div class="note"><table cellpadding="0" cellspacing="0" border="0"><tr><td width="46" align="left" valign="top"><img src="Resources/workspace/img/info_small_10mm.gif" width="38" height="38" class="note_img"/></td><td><div class="note_title"><a name="ID_f2290a2c50654af80a001ae77794626d-77f58b7b6bc89ad60a00206a008ec9e8-en-US">
</a>Measurement time</div><p>If segmented capturing is active, the total measurement time is defined by the number of trigger events and the segment length. Thus, the <a class="xref" href="719d5fe543694668.htm#ID_879be73c748b04250a00206a016fe786-d6c1f18e748b04250a00206a01c929d2-en-US">"Measurement Time"</a> setting in the "Data Acquisition" dialog box is not available.</p></td></tr></table></div></div><div class="block"><div class="note"><table cellpadding="0" cellspacing="0" border="0"><tr><td width="46" align="left" valign="top"><img src="Resources/workspace/img/info_small_10mm.gif" width="38" height="38" class="note_img"/></td><td><div class="note_title"><a name="ID_886084b198de87400a71003a007ed230-77f58b7b6bc89ad60a00206a008ec9e8-en-US">
</a>Segmented Capture and Time Sidelobe Analysis</div><p>When using the new <a class="xref" href="2c94200eec0d4219.htm#ID_61d4f4ec0f1bd9b00a710ade01d538a7-77f58b7b6bc89ad60a00206a008ec9e8-en-US">"Time Sidelobe Analysis"</a> functions, set up the capture such that there are enough pre/post samples to account for the entire reference I/Q waveform length.</p><div class="block"><div class="listintro">Recommended settings for a rising-edge trigger on the pulse are:</div><ul class="list"><li value="1"><a class="xref" href="c54d6ab92b714041.htm#ID_5858a4d127d1e3d20a001ae714985a37-a24b39e56a7935640a00206a008708a7-en-US">"Trigger Offset"</a> = -1.5 * <a class="xref" href="1acfbffa48ce4526.htm#ID_e62c9e87100186ab0a001ae75e28dc98-a24b39e56a7935640a00206a008708a7-en-US">Reference I/Q Length</a></li><li value="2"><a class="xref" href="dd24131db88b48a9.htm#ID_2df5e49327d1e3d20a001ae77ea23de8-a24b39e56a7935640a00206a008708a7-en-US">"Segment Length"</a> = 4.0 * <a class="xref" href="1acfbffa48ce4526.htm#ID_e62c9e87100186ab0a001ae75e28dc98-a24b39e56a7935640a00206a008708a7-en-US">Reference I/Q Length</a></li></ul></div></td></tr></table></div></div><div class="block"><div class="subtitle"><a name="ID_7ac3a46053941a300a71003a01a4f47e-77f58b7b6bc89ad60a00206a008ec9e8-en-US">
</a>Alignment based on trigger event</div></div><p>Since segment definition is based on the trigger event, this event can also be used as a reference point for the measurement point and result range definition (see <a class="xref" href="eaf71a4cb9a0439e.htm#ID_ab069b516b89bb060a710a3101b8f1ba-a24b39e56a7935640a00206a008708a7-en-US">"Measurement Point"</a> and <a class="xref" href="881a156d75a743be.htm#ID_ed0cbe277066aea40a00206a00507af9-ada6499374bc0a560a00206a01dc09f3-en-US">"Alignment"</a>).</p><div class="block"><div class="listintro">In order to align the measurement point to a trigger event on a per-pulse basis, the R&amp;S FSW Pulse application needs to associate one trigger event with each measured pulse. The following rule applies to both power and external trigger sources:</div><ul class="list"><li value="1"><a class="xref" href="907eb6d6fa4f4bac.htm#ID_d00257381002a0c50a00206a01a7dd5b-6309b8b51002a0c50a00206a01b599ce-en-US">Trigger source - rising slope</a>: The pulse whose rising edge is closest to the trigger event is associated</li><li value="2"><a class="xref" href="907eb6d6fa4f4bac.htm#ID_d00257381002a0c50a00206a01a7dd5b-6309b8b51002a0c50a00206a01b599ce-en-US">Trigger source - falling slope</a>: The pulse whose falling edge is closest to the trigger event is associated</li></ul></div><div class="block" id="ID_47112e83539ff4c60a001ae757801150-77f58b7b6bc89ad60a00206a008ec9e8-en-US"><div class="graphic"><img border="0" src="Resources/Images/imgf665a858a92d07690a001ae76da27423_1_--_--_PNG96Small.png" alt="" title=""/></div><div class="caption_figure">Measurement point aligned to trigger on falling edge</div></div><div class="block"><div class="subtitle"><a name="ID_c6692f6b50654af80a001ae712dea1ac-77f58b7b6bc89ad60a00206a008ec9e8-en-US">
</a>Number of events vs number of segments</div></div><p>Generally, the number of trigger events corresponds to the number of captured segments. However, in some cases, multiple trigger events may occur within a time interval shorter than the specified segment length. Thus, the segments for the individual trigger events overlap. In this case, the overlapping segments are merged together and the number of segments is lower than the number of trigger events.</p><div class="block" id="ID_6b88cb1550654af80a001ae71c7a9408-77f58b7b6bc89ad60a00206a008ec9e8-en-US"><div class="graphic"><img border="0" src="Resources/Images/imga333a62050204d1f0a001ae76f8c5e98_1_--_--_PNG96.png" alt="" title=""/></div><div class="caption_figure">Number of segments vs. number of trigger events</div></div><div class="block"><div class="subtitle"><a name="ID_1db7264750654af80a001ae7575e2815-77f58b7b6bc89ad60a00206a008ec9e8-en-US">
</a>Result displays for segmented data</div></div><p>In the <b>Magnitude Capture</b> display an overview of the entire measurement is provided. However, for segmented data, the time span may be very long, whereas the relevant signal segments may be relatively short. Thus, to improve clarity, the display is compressed to eliminate the gaps between the captured segments. The segment ranges are indicated by vertical lines. Between two segments, the gap may be compressed in the display. The time span indicated for the x-axis in the diagram footer is only up-to-date when the measurement is completed. (See also <a class="xref" href="a9dc02cf487845c7.htm#ID_45fa0df36ace593d0a00206a00279790-78a038206a778ca80a00206a00edc705-en-US">"Magnitude Capture"</a>.)</p><p><b>Markers</b> "jump" over the gaps, but indicate the correct absolute time within the segments.</p><p>This compressed time-axis display is also used for the <b>pulse-based results</b>.</p><p>The result <b>tables</b> are identical for segmented or full data capture.</p><div class="block"><div class="subtitle"><a name="ID_47088b0469621f570a001ae73ce1868f-77f58b7b6bc89ad60a00206a008ec9e8-en-US">
</a>Timestamps vs. sample number</div></div><p>As mentioned above, timing information is available for the entire measurement span, not only for the captured data segments. Thus, the absolute time that each segment starts at is available as a timestamp. On the other hand, only the data samples within the specified segments are actually stored. The samples are indexed. Thus, in addition to the timestamps, the start of a segment can also be referenced by the index number of the first sample in the segment, for example when retrieving the captured segment data in remote operation. (See also <a class="xref" href="cc737c8c7be944c3.htm#ID_1fbf58c3647650b60a001ae77d7b2ca9-18fbaa6e64764fbc0a001ae712e10680-en-US" style="font-family: &#34;Courier New&#34;, Courier, monospace;"><nobr>TRACe&lt;n&gt;:</nobr>​<nobr>IQ:</nobr>​<nobr>SCAPture:</nobr>​<nobr>BOUNdary?</nobr></a>.)</p><p>The timing information for the captured segments is also stored when the I/Q data is exported. It can then be retrieved when the I/Q data is used as an input source (see <a class="xref" href="847371b6c0f14802.htm#ID_b3e65019496b664d0a710a3101a42822-69ef0491496b941f0a002019002ce375-en-US">"Basics on Input from I/Q Data Files"</a>) in order to reproduce results that are consistent with the original measurement.</p><div class="block"><div class="note"><table cellpadding="0" cellspacing="0" border="0"><tr><td width="46" align="left" valign="top"><img src="Resources/workspace/img/info_small_10mm.gif" width="38" height="38" class="note_img"/></td><td><div class="note_title"><a name="ID_5ce2e54dec0c178c0a001ae73e41e223-77f58b7b6bc89ad60a00206a008ec9e8-en-US">
</a>Segmented capture, Gauss filters, and the 320<span style="font-family: Arial Unicode MS"> </span>MHz bandwidth option</div><p>Gauss filters with a 3<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>dB bandwidth of 50<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>MHz and above use more than 160<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>MHz of I/Q bandwidth if a 320<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>MHz bandwidth option is installed. During segmented capture operation, these filters are limited to 160 MHz of I/Q bandwidth, which results in increased system rise time (up to an additional 3<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>ns) compared to the non-segmented measurement with the 320<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>MHz bandwidth option.</p></td></tr></table></div></div><div class="block"><div class="note"><table cellpadding="0" cellspacing="0" border="0"><tr><td width="46" align="left" valign="top"><img src="Resources/workspace/img/info_small_10mm.gif" width="38" height="38" class="note_img"/></td><td><div class="note_title"><a name="ID_ba8319be8b8e102b0a71003a00ecd27b-77f58b7b6bc89ad60a00206a008ec9e8-en-US">
</a>Segmented capture and optional 2<span style="font-family: Arial Unicode MS"> </span>GHz bandwidth extension</div><p>Segmented capture in the R&amp;S FSW Pulse application is now also available if the optional 2<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>GHz bandwidth extension is active. In this case, segmented capture is implemented using the history mode of the oscilloscope. For details see the Rohde<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>&amp;<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>Schwarz application note <a href="http://www.rohde-schwarz.com/appnote/1TD02" class="link" target="_new">1TD02: Advanced Signal Analysis using the History Mode of the R&amp;S®RTO Oscilloscope</a>.</p><p>The <b>maximum (compressed) measurement time</b> for the R&amp;S FSW Pulse application depends on the sample rate defined on the R&amp;S<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>FSW and the number of segments that are captured, as well as the memory depth of the oscilloscope:</p><p><b>FSW_Sample_Rate <span style="font-family: Arial Unicode MS; font-size: 10.5pt">≤</span> 5<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>GHz</b>:</p><p><em>meas time (compressed) = (osci memory depth - 100*(no. of segments) ) / (10<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>GHz) * (FSW_sample_rate)</em></p><p><b>FSW_Sample_Rate &gt; 5<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>GHz</b>:</p><p><em>meas time (compressed) = (osci memory depth - 1000*(no. of segments) ) / (10<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>GHz) * (FSW_sample_rate)</em></p><p>The <b>maximum number of segments</b> is defined as:</p><p><em>osci memory depth / 10<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>GHz) * FSW_sample_rate / 1000</em></p><p>But no more than 100000.</p></td></tr></table></div></div><div class="block"><div class="note"><table cellpadding="0" cellspacing="0" border="0"><tr><td width="46" align="left" valign="top"><img src="Resources/workspace/img/info_small_10mm.gif" width="38" height="38" class="note_img"/></td><td><div class="note_title"><a name="ID_1c4c6514aceb11e79340bccd7fb645c1-77f58b7b6bc89ad60a00206a008ec9e8-en-US">
</a>Segmented capture and optional 1200<span style="font-family: Arial Unicode MS"> </span>MHz/ 2001<span style="font-family: Arial Unicode MS"> </span>MHz bandwidth extensions</div><p>Segmented capture in the R&amp;S FSW Pulse application is now also available if the optional 1200<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>MHz/ 2001<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>MHz bandwidth extension is active. However, only discrete measurement bandwidths larger than 512<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>MHz are available:</p><div class="block"><ul class="list"><li value="1">1<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>GHz</li><li value="2">1.2<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>GHz</li><li value="3">2<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>GHz (B2001 and Flat filter only)</li></ul></div></td></tr></table></div></div>
						
						<div class="chm-go-to-top">
							<span>
								<a class="chm-go-to-top" href="#top">Top</a>
							</span>
						</div>
					</div></div><script type="text/javascript" src="SkinSupport/MadCapBodyEnd.js">/* <![CDATA[ */
/* ]]> */</script></body></html>