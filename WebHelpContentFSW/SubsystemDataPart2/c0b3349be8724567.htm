
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:tocPath="Pulse Measurements (R&amp;S FSW-K6/6S)|Measurement Basics|Time Sidelobe Analysis" MadCap:InPreviewMode="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" MadCap:PathToHelpSystem="../" MadCap:HelpSystemFileName="fsw_k6.xml" MadCap:SearchType="Stem">
<!-- saved from url=(0014)about:internet -->
<head><meta http-equiv="X-UA-Compatible" content="IE=EmulateIE9">
</meta>
        <link href="Resources/workspace/css/madcap_mod.css" rel="stylesheet" type="text/css">
</link><title>Pulse Compression Calculation</title>
        <style>
					@import url(Resources/workspace/css/html_help.css);
				</style>
        <link disabled="disabled" href="Resources/workspace/css/html_help.css" rel="stylesheet" type="text/css">
</link>
        <MadCap:concept term="ID_5d7c323a96a1ea480a001ae75c572100-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_7bb5dd8096a1ea480a001ae74da58150-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_e86e1e6b96a1ea480a001ae73b969cad-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_91d8dffc74173fae0a001ae70888791f-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_d7c2634a74173fae0a001ae737c7e699-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_f8bfd19f74173fae0a001ae728ab18c1-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_c32a853574173fae0a001ae7535d7b90-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_805bd1cd74173fae0a001ae7322d4bba-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_33876acf74173fae0a001ae773e21266-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_8db8bc233ae71d110a001ae77ec01535-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_7b39f075806e11e4b2a0af6670a7d581-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_3e3ef8b43470eb6a0a001ae7272bfda3-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_924c9c7d3470eb6a0a001ae73d390b4a-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_0a3a0380a87d11e48bb199450fa36343-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_bf323ee93470eb6a0a001ae71349c3bd-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_8bc02a633ae71d110a001ae7135fee6e-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_7d4e4e253ae71d110a001ae72bd4ccaa-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_4c9bfa973470eb6a0a001ae751519799-77f58b7b6bc89ad60a00206a008ec9e8-en-US;ID_1b19e7763470eb6a0a001ae75ec0add7-77f58b7b6bc89ad60a00206a008ec9e8-en-US;">
</MadCap:concept>
        <script src="Resources/workspace/jscript/nsr.js">/* <![CDATA[ */
        /* ]]> */</script>
        <script src="SkinSupport/MadCapAll.js" type="text/javascript">/* <![CDATA[ */
        /* ]]> */</script>
    <script src="Resources/workspace/jscript/shortcut.js" type="text/javascript">/* <![CDATA[ */
/* ]]> */</script><script src="Resources/workspace/jscript/dy-shortcut.js" type="text/javascript">/* <![CDATA[ */
/* ]]> */</script></head><body><p><img src="../Data/SkinHTML Help Window/RS_Logo.png" /></p><div id="nsr"><span><a class="chm-breadcrumb" href="helpmerge-hooknode.htm">Pulse Measurements (R&amp;S FSW-K6/6S)</a> &gt; <a class="chm-breadcrumb" href="6bca5f79d2e8456b.htm">Measurement Basics</a> &gt; <a class="chm-breadcrumb" href="2c94200eec0d4219.htm">Time Sidelobe Analysis</a> &gt; <span class="chm-breadcrumb">Pulse Compression Calculation</span></span></div><div id="mainbody"><div style="width: 95%" xml:space="preserve">
						<a name="top">
							
						</a>
						
						
						<div class="chm-chaptertitle">Pulse Compression Calculation</div><a name="kanchor247">
</a><p>Pulse compression is performed by correlating the measured data with a reference waveform. Mathematically, this can be described as follows:</p><div class="block" id="ID_7bb5dd8096a1ea480a001ae74da58150-77f58b7b6bc89ad60a00206a008ec9e8-en-US"><div class="graphic"><img border="0" src="Resources/Images/img361c872b9686e2b70a001ae75febfed0_1_--_--_PNG96.png" alt="" title=""/></div><div class="caption">Power correlation</div></div><p>where "n" is a sample offset within the measured data at which the correlator output is calculated.</p><p>Since the data is processed digitally in the R&amp;S FSW Pulse application, the measured and reference waveform I/Q samples are denoted as:</p><p><em>IQ<sub>meas</sub>t(n)</em> for n=1,…,M</p><p>and</p><p><em>IQ<sub>ref</sub>t(k)</em> for k=1,…,N</p><p>where there are assumed to be M samples in the measurement acquisition and N samples of the reference waveform, and both measured and reference waveforms are sampled at the same sampling rate.</p><div class="block"><div class="note"><table cellpadding="0" cellspacing="0" border="0"><tr><td width="46" align="left" valign="top"><img src="Resources/workspace/img/info_small_10mm.gif" width="38" height="38" class="note_img"/></td><td><p>You may provide the reference waveform samples at a different sample rate to the one used for data acquisition in the R&amp;S FSW Pulse application. In this case, the reference waveform will be automatically re-sampled to match the current measurement sample rate. You should, however, consider that providing a reference waveform with a sample rate higher than the measurement sample rate will cause the reference waveform to be downsampled, which may result in a loss of information through low-pass filtering.</p></td></tr></table></div></div><p>It can be shown that the correlator equation above is equivalent to a linear time-invariant filter operation, where the filter impulse response is given by a time-reversed and complex-conjugated version of the reference waveform. The implementation of the correlator can therefore be efficiently calculated using fast Fourier transform (FFT) operations according to the diagram in <a class="xref" href="#ID_33876acf74173fae0a001ae773e21266-77f58b7b6bc89ad60a00206a008ec9e8-en-US">Figure "Pulse compression calculation in the R&amp;S FSW Pulse application"</a>.</p><div class="block"><a name="ID_91d8dffc74173fae0a001ae70888791f-77f58b7b6bc89ad60a00206a008ec9e8-en-US">
</a><p>The procedure is as follows:</p><div><ol class="procedure"><li id="ID_d7c2634a74173fae0a001ae737c7e699-77f58b7b6bc89ad60a00206a008ec9e8-en-US" value="1"><p>An FFT is calculated from both the measured I/Q data and the reference I/Q data.</p></li><li id="ID_f8bfd19f74173fae0a001ae728ab18c1-77f58b7b6bc89ad60a00206a008ec9e8-en-US" value="2"><p>One of the FFT results is converted to the complex conjugate.</p></li><li id="ID_c32a853574173fae0a001ae7535d7b90-77f58b7b6bc89ad60a00206a008ec9e8-en-US" value="3"><p>The FFT results are then multiplied together and the inverse FFT (IFFT) is calculated.</p><p>This produces a correlated I/Q signal.</p></li><li id="ID_805bd1cd74173fae0a001ae7322d4bba-77f58b7b6bc89ad60a00206a008ec9e8-en-US" value="4"><p>The magnitude squared value of the correlated I/Q signal is used for the Correlated Pulse Magnitude and Correlated Magnitude Capture displays.</p></li></ol></div></div><div class="block" id="ID_33876acf74173fae0a001ae773e21266-77f58b7b6bc89ad60a00206a008ec9e8-en-US"><div class="graphic"><img border="0" src="Resources/Images/img9e5ecaa09696a6fd0a001ae730040ca0_1_--_--_PNG96.png" alt="" title=""/></div><div class="caption_figure">Pulse compression calculation in the R&amp;S FSW Pulse application</div></div><div class="block"><div class="subtitle"><a name="ID_8db8bc233ae71d110a001ae77ec01535-77f58b7b6bc89ad60a00206a008ec9e8-en-US">
</a>Correlator output</div></div><a name="kanchor248">
</a><p>At the mainlobe peak, the measured data is assumed to be a scaled version of the reference I/Q data with a certain frequency and phase offset:</p><a name="kanchor249">
</a><a name="kanchor250">
</a><div class="block" id="ID_7b39f075806e11e4b2a0af6670a7d581-77f58b7b6bc89ad60a00206a008ec9e8-en-US"><div class="graphic"><img border="0" src="Resources/Images/img2c6f01a89686e0180a001ae73bf13734_1_--_--_PNG96.png" alt="" title=""/></div><div class="caption">Measured I/Q waveform at the time offset corresponding to the peak correlator output power</div></div><p>where n<sub>peak</sub> is the sample offset within the measured data at which the peak correlator output occurs</p><div class="block"><div class="subtitle"><a name="ID_3e3ef8b43470eb6a0a001ae7272bfda3-77f58b7b6bc89ad60a00206a008ec9e8-en-US">
</a>Mainlobe power (integrated)</div></div><a name="kanchor251">
</a><p>Normalizing the peak correlator output power to the reference I/Q waveform power gives the <em>integrated</em> mainlobe power:</p><div class="block" id="ID_924c9c7d3470eb6a0a001ae73d390b4a-77f58b7b6bc89ad60a00206a008ec9e8-en-US"><div class="graphic"><img border="0" src="Resources/Images/img43be5f719686deef0a001ae73c11b8ff_1_--_--_PNG96.png" alt="" title=""/></div><div class="caption">Mainlobe power (integrated)</div></div><p>For perfectly correlated measured and reference waveforms, this value corresponds to the integrated power of the measured waveform over the correlation interval.</p><div class="block"><div class="subtitle"><a name="ID_0a3a0380a87d11e48bb199450fa36343-77f58b7b6bc89ad60a00206a008ec9e8-en-US">
</a>Mainlobe power (average)</div></div><a name="kanchor252">
</a><p>Normalizing the peak correlator output power to the reference waveform power and to the correlation interval gives the <em>average</em> mainlobe power:</p><div class="block" id="ID_bf323ee93470eb6a0a001ae71349c3bd-77f58b7b6bc89ad60a00206a008ec9e8-en-US"><div class="graphic"><img border="0" src="Resources/Images/imgae98cf5c9686dc7e0a001ae7138aa410_1_--_--_PNG96.png" alt="" title=""/></div><div class="caption">Mainlobe power (average)</div></div><p>For perfectly correlated measured and reference waveforms, this value corresponds to the average power of the measured waveform over the correlation interval.</p><p>Note that the normalization used for P<sub>Avg</sub> is also applied to the correlator output "traces" shown in the Pulse Magnitude and Correlated Magnitude Capture displays.</p><div class="block"><div class="subtitle"><a name="ID_8bc02a633ae71d110a001ae7135fee6e-77f58b7b6bc89ad60a00206a008ec9e8-en-US">
</a>Peak correlation</div></div><a name="kanchor253">
</a><p>Normalizing the peak correlator output power to both the measured and reference waveform powers gives the peak correlation:</p><div class="block" id="ID_7d4e4e253ae71d110a001ae72bd4ccaa-77f58b7b6bc89ad60a00206a008ec9e8-en-US"><div class="graphic"><img border="0" src="Resources/Images/img7c00c09b9686e1600a001ae71b95632b_1_--_--_PNG96.png" alt="" title=""/></div><div class="caption">Peak correlation</div></div><p>This yields a value between 0 (completely uncorrelated) and 1 (perfectly correlated).</p><div class="block"><div class="subtitle"><a name="ID_4c9bfa973470eb6a0a001ae751519799-77f58b7b6bc89ad60a00206a008ec9e8-en-US">
</a>Mainlobe frequency and phase</div></div><a name="kanchor254">
</a><a name="kanchor255">
</a><p>The frequency and phase offset at the location of the mainlobe peak are estimated using <a class="xref" href="#ID_7b39f075806e11e4b2a0af6670a7d581-77f58b7b6bc89ad60a00206a008ec9e8-en-US">Equation "Measured I/Q waveform at the time offset corresponding to the peak correlator output power"</a>, where <span style="font-family: Arial Unicode MS; font-size: 10.5pt">θ</span> is the mainlobe phase and <em>f</em> is the mainlobe frequency.</p><div class="block"><div class="note"><table cellpadding="0" cellspacing="0" border="0"><tr><td width="46" align="left" valign="top"><img src="Resources/workspace/img/info_small_10mm.gif" width="38" height="38" class="note_img"/></td><td><p>The phase is only meaningful relative to other pulses within the capture, not as an absolute value.</p></td></tr></table></div></div>
						
						<div class="chm-go-to-top">
							<span>
								<a class="chm-go-to-top" href="#top">Top</a>
							</span>
						</div>
					</div></div><script type="text/javascript" src="SkinSupport/MadCapBodyEnd.js">/* <![CDATA[ */
/* ]]> */</script></body></html>