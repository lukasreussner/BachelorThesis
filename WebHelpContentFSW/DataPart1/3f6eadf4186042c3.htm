
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:tocPath="General Instrument Setup|Frequency Response Correction (R&amp;S FSW-K544)" MadCap:InPreviewMode="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" MadCap:PathToHelpSystem="../" MadCap:HelpSystemFileName="FSW_HTML_UserManuals_en.xml" MadCap:SearchType="Stem">
<!-- saved from url=(0014)about:internet -->
<head><meta http-equiv="X-UA-Compatible" content="IE=EmulateIE9">
</meta>
        <link href="Resources/workspace/css/madcap_mod.css" rel="stylesheet" type="text/css">
</link><title>Basics on Frequency Response Correction</title>
        <style>
					@import url(Resources/workspace/css/html_help.css);
				</style>
        <link disabled="disabled" href="Resources/workspace/css/html_help.css" rel="stylesheet" type="text/css">
</link>
        <MadCap:concept term="ID_36137c40918999970a001ae731b6fc5c-6cf7b0a549587bc20a001ae75f09ae4d-en-US;ID_97c1fa0853a26c790a001ae707bfbf50-6cf7b0a549587bc20a001ae75f09ae4d-en-US;ID_ec0d6e3a53a26c790a001ae72ac02a5f-6cf7b0a549587bc20a001ae75f09ae4d-en-US;ID_d00db1f053a26c790a001ae72e1dd8e6-6cf7b0a549587bc20a001ae75f09ae4d-en-US;ID_c7f66f1153a26c890a001ae77f7309c4-6cf7b0a549587bc20a001ae75f09ae4d-en-US;ID_86d2256cb98411e78a949c0d575e54a4-6cf7b0a549587bc20a001ae75f09ae4d-en-US;ID_9280477753a26c890a001ae72e7c210a-6cf7b0a549587bc20a001ae75f09ae4d-en-US;ID_7370594b53a26c890a001ae76a54ecca-6cf7b0a549587bc20a001ae75f09ae4d-en-US;ID_c31f981753a26c890a001ae7767142b5-6cf7b0a549587bc20a001ae75f09ae4d-en-US;ID_b714df3153a26c890a001ae77081ffe6-6cf7b0a549587bc20a001ae75f09ae4d-en-US;ID_506744a1dc5168490a001ae715dc783d-6cf7b0a549587bc20a001ae75f09ae4d-en-US;ID_bdecfc5a78e25e700a001ae774d30119-6cf7b0a549587bc20a001ae75f09ae4d-en-US;ID_2d53701653a26c890a001ae7376c90a9-6cf7b0a549587bc20a001ae75f09ae4d-en-US;">
</MadCap:concept>
        <script src="Resources/workspace/jscript/nsr.js">/* <![CDATA[ */
        /* ]]> */</script>
        <script src="SkinSupport/MadCapAll.js" type="text/javascript">/* <![CDATA[ */
        /* ]]> */</script>
    <script src="Resources/workspace/jscript/shortcut.js" type="text/javascript">/* <![CDATA[ */
/* ]]> */</script><script src="Resources/workspace/jscript/dy-shortcut.js" type="text/javascript">/* <![CDATA[ */
/* ]]> */</script></head><body><div id="nsr"><span><a class="chm-breadcrumb" href="c702547bd1064afb.htm">General Instrument Setup</a> &gt; <a class="chm-breadcrumb" href="2394bc31ee1849b3.htm">Frequency Response Correction (R&amp;S FSW-K544)</a> &gt; <span class="chm-breadcrumb">Basics on Frequency Response Correction</span></span></div><div id="mainbody"><div style="width: 95%"><a name="top">
</a><div class="chm-chaptertitle">Basics on Frequency Response Correction</div><div class="block"><div class="subtitle"><a name="ID_97c1fa0853a26c790a001ae707bfbf50-6cf7b0a549587bc20a001ae75f09ae4d-en-US">
</a>Touchstone (.snp) files</div></div><p>Touchstone (<span class="filename">.snp</span>) files contain data to characterize a measurement setup in respect to the gain and phase error over frequency. Such files are generated by network analyzers, for example. The R&amp;S<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>FSW can use such files to compensate for any gain or phase errors between the DUT and the connection from the DUT to the instrument.</p><p>Touchstone files can be defined for a varying number of input and output ports. The total number of ports configured in the file is indicated by the file extension; the "n" in <span class="filename">.snp</span> is merely a placeholder. Thus, a file for a cable with one input and one output is referred to as an S2P file. A file for a switch with one input and 3 outputs is referred to as an S4P file etc.</p><div class="block"><div class="subtitle"><a name="ID_ec0d6e3a53a26c790a001ae72ac02a5f-6cf7b0a549587bc20a001ae75f09ae4d-en-US">
</a>Transducer vs filter function</div></div><p>Touchstone files are handled similarly to transducer files by the R&amp;S<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>FSW. However, while a transducer adapts the frequency values by a fixed factor, Touchstone files act as a filter on I/Q input data. For common frequency sweeps, the effects of transducers and Touchstone files are the same.</p><div class="block"><div class="subtitle"><a name="ID_d00db1f053a26c790a001ae72e1dd8e6-6cf7b0a549587bc20a001ae75f09ae4d-en-US">
</a>.fres files</div></div><p>Additional frequency response correction files in <span class="filename">.fres</span> format allow you to correct effects from components for which no Touchstone files are available. Correction files can be created as user-defined equalizer files from the optional Amplifier Measurement application, for example. Files in <span class="filename">.fres</span> format correspond to an S1P file. They contain exactly three values for each frequency:</p><div class="block"><ul class="list"><li value="1">The frequency</li><li value="2">The magnitude correction value</li><li value="3">The phase correction value</li></ul></div><p>Instead of the magnitude and phase correction values, the I and Q values can be provided.</p><p>These values are applied to the input data. If the file contains any other data, it can not be loaded.</p><p>For <span class="filename">.fres</span> files, magnitude and phase correction can be activated separately.</p><div class="block"><div class="subtitle"><a name="ID_c7f66f1153a26c890a001ae77f7309c4-6cf7b0a549587bc20a001ae75f09ae4d-en-US">
</a>Combining multiple Touchstone files</div></div><p>Since the measurement setup may consist of several cables, DUTs and other components, multiple Touchstone files can be required for full compensation. In this case, the order in which the files are applied is important. The R&amp;S<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>FSW combines all active Touchstone files to a single S2P file, and creates the required filter or correction factors for the measurement.</p><div class="block"><div class="note"><table cellpadding="0" cellspacing="0" border="0"><tr><td width="46" align="left" valign="top"><img src="Resources/workspace/img/info_small_10mm.gif" width="38" height="38" class="note_img">
</img></td><td><div class="note_title"><a name="ID_86d2256cb98411e78a949c0d575e54a4-6cf7b0a549587bc20a001ae75f09ae4d-en-US">
</a>Correction filters for I/Q data</div><p>Filters can only be applied to I/Q data if they are defined for the complete analysis bandwidth. Therefore, if the combined frequency response filter does not cover the complete analysis span, it is invalid and cannot be used for the measurement. See also <a class="xref" href="#ID_7370594b53a26c890a001ae76a54ecca-6cf7b0a549587bc20a001ae75f09ae4d-en-US">"Recognizing frequency response correction in measurement results"</a>.</p><p>For common frequency sweeps, values not covered by the combined frequency response are not corrected, but the settings remain valid.</p></td></tr></table></div></div><div class="block"><div class="subtitle"><a name="ID_9280477753a26c890a001ae72e7c210a-6cf7b0a549587bc20a001ae75f09ae4d-en-US">
</a>Correcting data in one or more applications</div></div><p>While transducer files are always used for all measurements on the instrument, <span class="filename">.snp</span> and <span class="filename">.fres</span> files can be configured either for the current application only, or for all measurement channels.</p><p>Thus, you can configure different files for individual measurement setups with a particular input source and channel setup. For example, you can set up three different I/Q Analyzer channels in parallel and use different Touchstone files for each measurement channel.</p><div class="block"><div class="subtitle"><a name="ID_7370594b53a26c890a001ae76a54ecca-6cf7b0a549587bc20a001ae75f09ae4d-en-US">
</a>Recognizing frequency response correction in measurement results</div></div><p>If frequency response correction is active for a measurement channel, "FRCORR" is indicated in the channel bar. The status of the correction settings is indicated by the color of this message:</p><div class="block"><a name="ID_c31f981753a26c890a001ae7767142b5-6cf7b0a549587bc20a001ae75f09ae4d-en-US">
</a><table border="1"><colgroup><col>
</col><col>
</col></colgroup><thead><tr class="oddrow"><th valign="top"><p>Color</p></th><th valign="top"><p>Meaning</p></th></tr></thead><tbody><tr class="oddrow"><td valign="top"><p>Green</p></td><td valign="top"><p>Active correction settings valid and in use</p></td></tr><tr class="evenrow"><td valign="top"><p>Red</p></td><td valign="top"><p>Correction settings active, but not in use, e.g. due to invalid settings (see <a class="xref" href="#ID_86d2256cb98411e78a949c0d575e54a4-6cf7b0a549587bc20a001ae75f09ae4d-en-US">"Correction filters for I/Q data"</a>)</p></td></tr></tbody></table></div><p><b>Remote command:</b></p><p><a class="xref" href="a968c77e5db44151.htm#ID_9abc5af6532f9b080a001ae7474232ef-9a4f5bc4532f99df0a001ae75e5dfe48-en-US" style="font-family: &#34;Courier New&#34;, Courier, monospace;"><nobr>[SENSe:</nobr>​<nobr>]CORRection:</nobr>​<nobr>FRESponse:</nobr>​<nobr>USER:</nobr>​<nobr>VALid?</nobr></a></p><div class="block"><div class="tip"><table cellpadding="0" cellspacing="0" border="0"><tr><td width="46" align="left" valign="top"><img src="Resources/workspace/img/tipps_small_10mm.gif" width="38" height="38" class="tip_img">
</img></td><td><p>Since multiple correction settings can be active at the same time, the channel bar merely indicates that frequency response correction is being applied, but not which files are being used. To find out which correction files are being used for the active application, open the "User Corrections" dialog box (see <a class="xref" href="c30916b9e35e46ae.htm#ID_5b5b398e918999970a001ae764721583-6cf7b0a549587bc20a001ae75f09ae4d-en-US">"User-defined Frequency Response Correction Settings"</a>).</p></td></tr></table></div></div><div class="block"><div class="subtitle"><a name="ID_b714df3153a26c890a001ae77081ffe6-6cf7b0a549587bc20a001ae75f09ae4d-en-US">
</a>Storing frequency response correction settings</div></div><p>You can store frequency response correction settings to a file (saveset) and load them for future measurements. For details see <a class="xref" href="929d77bdaa284d0a.htm#ID_7f404635918999970a001ae71de429e5-6cf7b0a549587bc20a001ae75f09ae4d-en-US">"Save Settings"</a>.</p><div class="block"><div class="note"><table cellpadding="0" cellspacing="0" border="0"><tr><td width="46" align="left" valign="top"><img src="Resources/workspace/img/info_small_10mm.gif" width="38" height="38" class="note_img">
</img></td><td><div class="note_title"><a name="ID_506744a1dc5168490a001ae715dc783d-6cf7b0a549587bc20a001ae75f09ae4d-en-US">
</a>Storing SaveSets with a loaded Touchstone file</div><p>If you store the instrument settings for a measurement using a Touchstone file in a saveset, only the link to the Touchstone file name is actually stored. That means that if you change the settings in the file and recall the saveset for the measurement later, the results will differ from the original measurement.</p></td></tr></table></div></div><div class="block"><div class="note"><table cellpadding="0" cellspacing="0" border="0"><tr><td width="46" align="left" valign="top"><img src="Resources/workspace/img/info_small_10mm.gif" width="38" height="38" class="note_img">
</img></td><td><div class="note_title"><a name="ID_bdecfc5a78e25e700a001ae774d30119-6cf7b0a549587bc20a001ae75f09ae4d-en-US">
</a>Imported I/Q data</div><p>Correction factors are not applied to input from I/Q data files during import. Data from these files is imported as it was stored. However, if any correction factors were applied to the stored data, for example from Touchstone files, the imported data contains those corrections.</p></td></tr></table></div></div><div class="block"><div class="subtitle"><a name="ID_2d53701653a26c890a001ae7376c90a9-6cf7b0a549587bc20a001ae75f09ae4d-en-US">
</a>Restrictions</div></div><div class="block"><div class="listintro">Currently, the R&amp;S<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>FSW has the following restrictions for Touchstone file support:</div><ul class="list"><li value="1">Trace data containing corrections from Touchstone files cannot be returned in I/Q Block format<br/>(See <a class="conceptLink_0" href="javascript:void(0);" onclick="FMCLinkControl( event, this, null ); return false;" onkeydown="this.MCKeydown = true;" MadCap:concepts="shiv_6a_remote_commands_8077-8e1a5ccb57ddb4450a00206a00ba1dc2-en-US" MadCap:topics=""><img src="SkinSupport/ConceptLink.gif" style="border: none;margin-right: 5px;">
</img>See Also</a>).</li></ul></div><div class="chm-go-to-top"><span><a class="chm-go-to-top" href="#top">Top</a></span></div></div></div><script type="text/javascript" src="SkinSupport/MadCapBodyEnd.js">/* <![CDATA[ */
/* ]]> */</script></body></html>