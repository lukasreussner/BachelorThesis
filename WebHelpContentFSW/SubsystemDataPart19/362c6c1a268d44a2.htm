
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:tocPath="WLAN application (R&amp;S FSW-K91)|Measurement Basics|Signal Processing for Single-Carrier Measurements (IEEE 802.11b, g (DSSS))" MadCap:InPreviewMode="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" MadCap:PathToHelpSystem="../" MadCap:HelpSystemFileName="fsw_k91.xml" MadCap:SearchType="Stem">
<!-- saved from url=(0014)about:internet -->
<head><meta http-equiv="X-UA-Compatible" content="IE=EmulateIE9">
</meta>
        <link href="Resources/workspace/css/madcap_mod.css" rel="stylesheet" type="text/css">
</link><title>Calculation of Signal Parameters</title>
        <style>
					@import url(Resources/workspace/css/html_help.css);
				</style>
        <link disabled="disabled" href="Resources/workspace/css/html_help.css" rel="stylesheet" type="text/css">
</link>
        <MadCap:concept term="ID_5822a363280fe8a90a00201901036520-a152f5e2a64dafbf0a002019017fdb4d-en-US;ID_df579c1940e27eb90a00206a01a25d9d-a152f5e2a64dafbf0a002019017fdb4d-en-US;ID_9925e68522e3954f0a00201900dd72b4-a152f5e2a64dafbf0a002019017fdb4d-en-US;ID_108b47b0280fe8a90a00201901e41b78-a152f5e2a64dafbf0a002019017fdb4d-en-US;ID_3e00bd0e40e27eb90a00206a01767e10-a152f5e2a64dafbf0a002019017fdb4d-en-US;ID_a3c52d9140e27eb90a00206a004e69e9-a152f5e2a64dafbf0a002019017fdb4d-en-US;ID_f9e1182740e27eb90a00206a000b4962-a152f5e2a64dafbf0a002019017fdb4d-en-US;ID_f33ca949280fe8a90a00201900fed44b-a152f5e2a64dafbf0a002019017fdb4d-en-US;ID_bf0443f140e27eb90a00206a00feef1d-a152f5e2a64dafbf0a002019017fdb4d-en-US;ID_1766f6e240e27eb90a00206a010466c3-a152f5e2a64dafbf0a002019017fdb4d-en-US;ID_32da0f3d280fe8a90a00201900238c8a-a152f5e2a64dafbf0a002019017fdb4d-en-US;ID_52fb39a72d4f26180a00206a00f34340-a152f5e2a64dafbf0a002019017fdb4d-en-US;ID_37ad47ba2d4f26180a00206a00c42e9f-a152f5e2a64dafbf0a002019017fdb4d-en-US;ID_bdc155442d4f26180a00206a01d1049c-a152f5e2a64dafbf0a002019017fdb4d-en-US;ID_764b48272d4f26180a00206a0185dd45-a152f5e2a64dafbf0a002019017fdb4d-en-US;ID_8a52e95e2d4f26180a00206a018209e7-a152f5e2a64dafbf0a002019017fdb4d-en-US;ID_bd7f44342d6706910a00206a015d7c85-a152f5e2a64dafbf0a002019017fdb4d-en-US;">
</MadCap:concept>
        <script src="Resources/workspace/jscript/nsr.js">/* <![CDATA[ */
        /* ]]> */</script>
        <script src="SkinSupport/MadCapAll.js" type="text/javascript">/* <![CDATA[ */
        /* ]]> */</script>
    <script src="Resources/workspace/jscript/shortcut.js" type="text/javascript">/* <![CDATA[ */
/* ]]> */</script><script src="Resources/workspace/jscript/dy-shortcut.js" type="text/javascript">/* <![CDATA[ */
/* ]]> */</script></head><body><p><img src="../Data/SkinHTML Help Window/RS_Logo.png" /></p><div id="nsr"><span><a class="chm-breadcrumb" href="helpmerge-hooknode.htm">WLAN application (R&amp;S FSW-K91)</a> &gt; <a class="chm-breadcrumb" href="f528bd9e34654c0e.htm">Measurement Basics</a> &gt; <a class="chm-breadcrumb" href="21780ffeb8504f5e.htm">Signal Processing for Single-Carrier Measurements (IEEE 802.11b, g (DSSS))</a> &gt; <span class="chm-breadcrumb">Calculation of Signal Parameters</span></span></div><div id="mainbody"><div style="width: 95%" xml:space="preserve">
						<a name="top">
							
						</a>
						
						
						<div class="chm-chaptertitle">Calculation of Signal Parameters</div><p>The frequency offset, the phase offset and the IQ-offset are estimated jointly with the coefficients of the transmit filter to increase the estimation quality.</p><p>Once the transmit filter is known, all other unknown signal parameters are estimated with a maximum-likelihood-based estimation, which minimizes the cost function:</p><div class="block" id="ID_df579c1940e27eb90a00206a01a25d9d-a152f5e2a64dafbf0a002019017fdb4d-en-US"><div class="graphic"><img border="0" src="Resources/Images/img170e7fef2227c5090a00201901ac592a_1_--_--_PNG96.png" alt="" title=""/></div><div class="caption">Cost function for signal parameters</div></div><div class="block" id="ID_9925e68522e3954f0a00201900dd72b4-a152f5e2a64dafbf0a002019017fdb4d-en-US"><div class="graphic"><img border="0" src="Resources/Images/img7a85df53225b224c0a00201901ec339e_1_--_--_PNG96.png" alt="" title=""/></div></div><p>The unknown signal parameters are estimated in a joint estimation process to increase the accuracy of the estimates.</p><p>The accurate estimates of the frequency offset, the gain imbalance, the quadrature error and the normalized I/Q offset are displayed by the measurement software.</p><div class="block"><div class="subtitle"><a name="ID_108b47b0280fe8a90a00201901e41b78-a152f5e2a64dafbf0a002019017fdb4d-en-US">
</a>Gain imbalance, I/Q offset, quadrature error</div></div><p>The gain imbalance is the quotient of the estimates of the gain factor of the Q-branch, the crosstalk factor and the gain factor of the I-branch:</p><div class="block" id="ID_3e00bd0e40e27eb90a00206a01767e10-a152f5e2a64dafbf0a002019017fdb4d-en-US"><div class="graphic"><img border="0" src="Resources/Images/imge7c93fd72260ecf10a00201901172864_1_--_--_PNG96.png" alt="" title=""/></div><div class="caption">Gain imbalance</div></div><p>The quadrature error is a measure for the crosstalk of the Q-branch into the I-branch:</p><div class="block" id="ID_a3c52d9140e27eb90a00206a004e69e9-a152f5e2a64dafbf0a002019017fdb4d-en-US"><div class="graphic"><img border="0" src="Resources/Images/imgf842d4902260ee0a0a0020190004ddac_1_--_--_PNG96.png" alt="" title=""/></div><div class="caption">Quadrature error (crosstalk)</div></div><p>The normalized I/Q offset is defined as the magnitude of the I/Q offset normalized by the magnitude of the reference signal:</p><div class="block" id="ID_f9e1182740e27eb90a00206a000b4962-a152f5e2a64dafbf0a002019017fdb4d-en-US"><div class="graphic"><img border="0" src="Resources/Images/img07abb41542768b070a00206a00904ff5_1_--_--_PNG96.png" alt="" title=""/></div><div class="caption">I/Q offset</div></div><p>At this point of the signal processing all unknown signal parameters such as timing offset, frequency offset, phase offset, I/Q offset and gain imbalance have been evaluated and the measurement signal can be corrected accordingly.</p><div class="block"><div class="subtitle"><a name="ID_f33ca949280fe8a90a00201900fed44b-a152f5e2a64dafbf0a002019017fdb4d-en-US">
</a>Error vector magnitude (EVM) - R&amp;S<span style="font-family: Arial Unicode MS; font-size: 10.5pt"> </span>FSW method</div></div><p>Using the corrected measurement signal r(v) and the estimated reference signal <span style="font-family: symbol; font-size: 10.5pt">ŝ</span>(v), the modulation quality parameters can be calculated. The mean error vector magnitude (EVM) is the quotient of the root-mean-square values of the error signal power and the reference signal power:</p><div class="block" id="ID_bf0443f140e27eb90a00206a00feef1d-a152f5e2a64dafbf0a002019017fdb4d-en-US"><div class="graphic"><img border="0" src="Resources/Images/imgcb0fd2544276ad060a00206a0102c20f_1_--_--_PNG96.png" alt="" title=""/></div><div class="caption">Mean error vector magnitude (EVM)</div></div><p>Whereas the symbol error vector magnitude is the momentary error signal magnitude normalized by the root mean square value of the reference signal power:</p><div class="block" id="ID_1766f6e240e27eb90a00206a010466c3-a152f5e2a64dafbf0a002019017fdb4d-en-US"><div class="graphic"><img border="0" src="Resources/Images/img088742024276ceb70a00206a0173d330_1_--_--_PNG96.png" alt="" title=""/></div><div class="caption">Symbol error vector magnitude</div></div><div class="block"><div class="subtitle"><a name="ID_32da0f3d280fe8a90a00201900238c8a-a152f5e2a64dafbf0a002019017fdb4d-en-US">
</a>Error vector magnitude (EVM) - IEEE 802.11b or g (DSSS) method</div></div><p>In [2] a different algorithm is proposed to calculate the error vector magnitude. In a first step the IQ-offset in the I-branch and the IQ-offset of the Q-branch are estimated separately:</p><div class="block" id="ID_52fb39a72d4f26180a00206a00f34340-a152f5e2a64dafbf0a002019017fdb4d-en-US"><div class="graphic"><img border="0" src="Resources/Images/img07b870ce4276ef8d0a00206a01addb0d_1_--_--_PNG96.png" alt="" title=""/></div><div class="caption">I/Q offset I-branch</div></div><div class="block" id="ID_37ad47ba2d4f26180a00206a00c42e9f-a152f5e2a64dafbf0a002019017fdb4d-en-US"><div class="graphic"><img border="0" src="Resources/Images/img3f5bc4ad427713710a00206a01db0c0d_1_--_--_PNG96.png" alt="" title=""/></div><div class="caption">I/Q offset Q-branch</div></div><p>where r(v) is the measurement signal which has been corrected with the estimates of the timing offset, frequency offset and phase offset, but not with the estimates of the gain imbalance and I/Q offset</p><p>With these values the gain imbalance of the I-branch and the gain imbalance of the Q-branch are estimated in a non-linear estimation in a second step:</p><div class="block" id="ID_bdc155442d4f26180a00206a01d1049c-a152f5e2a64dafbf0a002019017fdb4d-en-US"><div class="graphic"><img border="0" src="Resources/Images/imgf822ff05427736b80a00206a00ddcc23_1_--_--_PNG96.png" alt="" title=""/></div><div class="caption">Gain imbalance I-branch</div></div><div class="block" id="ID_764b48272d4f26180a00206a0185dd45-a152f5e2a64dafbf0a002019017fdb4d-en-US"><div class="graphic"><img border="0" src="Resources/Images/imgc1811ba442775cce0a00206a008fdd8d_1_--_--_PNG96.png" alt="" title=""/></div><div class="caption">Gain imbalance Q-branch</div></div><p>Finally, the mean error vector magnitude can be calculated with a non-data-aided calculation:</p><div class="block" id="ID_8a52e95e2d4f26180a00206a018209e7-a152f5e2a64dafbf0a002019017fdb4d-en-US"><div class="graphic"><img border="0" src="Resources/Images/imgb34b46b1226550910a00201901e048cc_1_--_--_PNG96.png" alt="" title=""/></div><div class="caption">Mean error vector magnitude</div></div><p>The symbol error vector magnitude is the error signal magnitude normalized by the root mean square value of the estimate of the measurement signal power:</p><div class="block" id="ID_bd7f44342d6706910a00206a015d7c85-a152f5e2a64dafbf0a002019017fdb4d-en-US"><div class="graphic"><img border="0" src="Resources/Images/imgc9258d5e226552750a00201901c74be3_1_--_--_PNG96.png" alt="" title=""/></div><div class="caption">Symbol error vector magnitude</div></div><p>The advantage of this method is that no estimate of the reference signal is needed, but the I/Q offset and gain imbalance values are not estimated in a joint estimation procedure. Therefore, each estimation parameter disturbs the estimation of the other parameter and the accuracy of the estimates is lower than the accuracy of the estimations achieved by <a class="xref" href="441a4fa496fb4255.htm#ID_928cb3b240e27eb90a00206a01275e55-a152f5e2a64dafbf0a002019017fdb4d-en-US">Equation "transmit antenna baseband filter (Tx filter) estimation"</a>. If the EVM value is dominated by Gaussian noise this method yields similar results as <a class="xref" href="#ID_df579c1940e27eb90a00206a01a25d9d-a152f5e2a64dafbf0a002019017fdb4d-en-US">Equation "Cost function for signal parameters"</a>.</p><div class="block"><div class="tip"><table cellpadding="0" cellspacing="0" border="0"><tr><td width="46" align="left" valign="top"><img src="Resources/workspace/img/tipps_small_10mm.gif" width="38" height="38" class="tip_img"/></td><td><p>The EVM vs Symbol result display shows two traces, each using a different calculation method, so you can easily compare the results (see <a class="xref" href="978b30ed9aff42e8.htm#ID_46e061447e3211e1ad2f80fd99402963-742b73889d5e5f610a001ae77d4ca6d8-en-US">"EVM vs Symbol"</a>).</p></td></tr></table></div></div>
						
						<div class="chm-go-to-top">
							<span>
								<a class="chm-go-to-top" href="#top">Top</a>
							</span>
						</div>
					</div></div><script type="text/javascript" src="SkinSupport/MadCapBodyEnd.js">/* <![CDATA[ */
/* ]]> */</script></body></html>